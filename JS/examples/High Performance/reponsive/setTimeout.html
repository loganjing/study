<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=gb2312"/>

    <title></title>
    <script language="JavaScript">
        rnd.today = new Date();
        rnd.seed = rnd.today.getTime();
        function rnd() {
            rnd.seed = (rnd.seed * 9301 + 49297) % 233280;
            return rnd.seed / (233280.0);
        }

        function rand(number) {
            return Math.ceil(rnd() * number);
        }

    </script>

    <script type="text/javascript">
        function buildArr(n) {
            var arr = [], tmp;
            for (var i = 0; i < n; i++) {
                //tmp = rand(n);
                arr.push(i+1);
            }
            return arr;
        }

        function process(item){
             console && console.info(item);
        }

        function setTimeoutExample(n,callback){
            var items = buildArr(n);
            var todo = items.concat();
            setTimeout(function(){
                process(todo.shift());
                if(todo.length>0){
                    setTimeout(arguments.callee,25)
                }else{
                     callback(items);
                }
            },25);
        }

        setTimeoutExample(100,function(items){
             console && console.info("Process finished!");
        })
    </script>
</head>
<body>

</body>
</html>